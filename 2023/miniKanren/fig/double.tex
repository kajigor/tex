\begin{figure}[!t]
  \centering
  \begin{minipage}{\columnwidth}
    \begin{lstlisting}[label={double},
                       caption={Doubling and addition relations},
                       captionpos=b,
                       frame=tb]
let double$^o$ x r = addo$^o$ x x r

let rec add$^o$ x y z = conde [
  (x === O /\ y === z);
  (fresh (x$_1$ z$_1$)
    (x === S x$_1$ /\
     add$^o$ x$_1$ y z$_1$ /\
     z === S z$_1$)) ]
    \end{lstlisting}
  \end{minipage}
\end{figure}