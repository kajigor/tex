\begin{figure*}[!t]
  \centering
  \begin{minipage}{\textwidth}
    \begin{lstlisting}[label={topsort_rel}, caption={Relational intepreter for topologic sort of a graph}, captionpos=b, frame=tb]
let topsort$^o$ graph numbering r =
  let rec topsort$^o$ graph numbering n r = conde [
    (graph === [] /\ r === true);
    (fresh (b e graph')
      (graph === (b, e) : graph' /\
      (fresh (q47 nb ne)
        (lookup$^o$ numbering b nb /\
         lookup$^o$ numbering e ne /\
         less$^o$ nb ne q47 /\
         conde [
          (q47 === false /\ r === false);
          (fresh (q43)
            (q47 === true /\
             less$^o$ ne n q43 /\
             conde [
              (q43 === false /\ r === false);
              (q43 === true /\ topsort$^o$ graph' numbering n r)]))]))))] in
   (fresh (n n') (n' === s n /\ numberOfNodes$^o$ graph n /\ topsort$^o$ graph numbering n' r))
    \end{lstlisting}
  \end{minipage}
\end{figure*}
